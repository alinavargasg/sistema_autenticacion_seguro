<div class="login-container">
  <h2>Inicio de Sesión Seguro</h2>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()"> 
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
    <div *ngIf="!locked">      
      <div class="form-group">
        <label>Nombre de Usuario:</label>
        <input type="text" formControlName="username" required autocomplete="username" > 
          <div *ngIf="loginForm.get('username')?.errors as err">
          <div *ngIf="err['required']" class="error">Nombre de usuario es requerido</div>
          <div *ngIf="err['xssDetected']" class="error">Caracteres no permitidos detectados</div>
        </div>
      </div>

      <div class="form-group">
        <label>Contraseña:</label>
        <input type="password" formControlName="password" required autocomplete="current-password">
        <div *ngIf="loginForm.get('password')?.errors as err">
        <div *ngIf="err['required']" class="error">Contraseña es requerida</div>
        <div *ngIf="err['xssDetected']" class="error">Caracteres no permitidos detectados</div>
      </div>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" formControlName="remember"> Recordar contraseña
        </label>
      </div>
    </div>

    <div class="form-footer">        
        <button type="submit" [disabled]="loginForm.invalid || loading" class="submit-btn">
          {{ loading ? 'Verificando...' : 'Ingresar' }}
        </button>        
    </div>
      
  </form>
  <div class="register-section">
    <span>¿No tienes una cuenta?</span>
    <a routerLink="/register" class="text-link">Regístrate</a>
  </div>
</div>